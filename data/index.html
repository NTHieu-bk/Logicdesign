<!DOCTYPE HTML>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>B·∫£ng ƒëi·ªÅu khi·ªÉn YOLO UNO</title>

  <link rel="stylesheet" href="styles.css">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/raphael@2.3.0/raphael.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/justgage@1.3.5/justgage.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

  <div class="sidebar">
    <div class="logo-container">
      <i class="fa-solid fa-microchip" style="font-size: 50px; color: var(--active-item-text);"></i>
      <h3 style="margin: 10px 0 0 0; color: var(--sidebar-text);">YOLO UNO</h3>
    </div>

    <div class="nav-item active" onclick="showSection('home', event)">
      <i class="fa-solid fa-house"></i> <span>Trang ch·ªß</span>
    </div>
    <div class="nav-item" onclick="showSection('device', event)">
      <i class="fa-solid fa-bolt"></i> <span>Thi·∫øt b·ªã</span>
    </div>
    <div class="nav-item" onclick="showSection('info', event)">
      <i class="fa-solid fa-circle-info"></i> <span>Th√¥ng tin</span>
    </div>
    <div class="nav-item" onclick="showSection('settings', event)">
      <i class="fa-solid fa-gear"></i> <span>C√†i ƒë·∫∑t</span>
    </div>
  </div>

  <div class="main-content">

    <div id="home" class="section fade-in">
      
      <div class="header-container">
        <div>
            <h1>Gi√°m s√°t M√¥i tr∆∞·ªùng</h1>
            <p class="status-text"><span id="connStatus" class="dot"></span> <span id="statusText">ƒêang k·∫øt n·ªëi...</span></p>
        </div>
        <div class="control-buttons">
            <button id="unitBtn" class="btn-ctrl" onclick="toggleUnit()">ƒê·ªïi sang ¬∞F</button>
            <button id="themeBtn" class="btn-ctrl" onclick="toggleTheme()">üåô T·ªëi</button>
            <!--<button id="simBtn" class="btn-ctrl" onclick="toggleSimulation()" style="background: #2ecc71; color: white; border: none;">‚ñ∂Ô∏è Ch·∫°y th·ª≠</button>-->
        </div>
      </div>

      <div class="gauges-container">
        <div class="gauge-card">
          <h2 id="label-temp">üå°Ô∏è Nhi·ªát ƒë·ªô (¬∞C)</h2>
          <div id="gauge_temp" class="gauge-size"></div>
        </div>

        <div class="gauge-card">
          <h2>üíß ƒê·ªô ·∫©m (%)</h2>
          <div id="gauge_humi" class="gauge-size"></div>
        </div>
      </div>

      <div class="chart-wrapper">
        <h3>üìà L·ªãch s·ª≠ d·ªØ li·ªáu</h3>
        <div class="chart-container">
            <canvas id="sensorChart"></canvas>
        </div>
      </div>
    </div>

    <div id="device" class="section" style="display:none;">
      <header>
        <h1>ƒêi·ªÅu khi·ªÉn Relay</h1>
        <p>Qu·∫£n l√Ω v√† ƒëi·ªÅu khi·ªÉn c√°c thi·∫øt b·ªã.</p>
      </header>

      <div class="device-list" id="relayContainer">
        </div>

      <button class="add-relay-btn" onclick="openAddRelayDialog()">
        <i class="fa-solid fa-plus"></i>
      </button>
    </div>

    <div id="info" class="section" style="display:none;">
      <header>
        <h1>Th√¥ng tin thi·∫øt b·ªã</h1>
        <p>Phi√™n b·∫£n Firmware: v1.0</p>
        <p>Chip Model: ESP32-S3</p>
      </header>
    </div>

    <div id="settings" class="section settings-section" style="display:none;">
      <div class="settings-card">
        <h2><i class="fa-solid fa-sliders"></i> C·∫•u h√¨nh h·ªá th·ªëng</h2>
        <p>Nh·∫≠p th√¥ng tin Wi-Fi v√† Server b√™n d∆∞·ªõi.</p>

        <form id="settingsForm">
          <div class="input-group">
            <i class="fa-solid fa-wifi"></i>
            <input type="text" id="ssid" placeholder="T√™n Wi-Fi (SSID)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-lock"></i>
            <input type="password" id="password" placeholder="M·∫≠t kh·∫©u Wi-Fi" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-key"></i>
            <input type="text" id="token" placeholder="M√£ Token Core IoT" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-server"></i>
            <input type="text" id="server" placeholder="M√°y ch·ªß Core IoT" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-plug"></i>
            <input type="number" id="port" placeholder="C·ªïng Core IoT" required min="0">
          </div>

          <button type="submit" class="btn-save">
            <i class="fa-solid fa-floppy-disk"></i> L∆∞u c·∫•u h√¨nh
          </button>
        </form>
      </div>
    </div>
  </div>

  <div id="addRelayDialog" class="dialog-overlay" style="display:none;">
    <div class="dialog fade-in">
      <h3><i class="fa-solid fa-plug"></i> Th√™m relay m·ªõi</h3>
      <div class="input-field">
        <input type="text" id="relayName" placeholder="T√™n relay (VD: ƒê√®n)">
      </div>
      <div class="input-field">
        <input type="number" id="relayGPIO" placeholder="Ch√¢n GPIO (VD: 2)" min="0">
      </div>
      <div class="dialog-buttons">
        <button class="confirm" onclick="saveRelay()">L∆∞u</button>
        <button class="cancel" onclick="closeAddRelayDialog()">H·ªßy</button>
      </div>
    </div>
  </div>

  <div id="confirmDeleteDialog" class="dialog-overlay" style="display:none;">
    <div class="dialog warning fade-in">
      <h3>‚ö†Ô∏è X√°c nh·∫≠n x√≥a</h3>
      <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a thi·∫øt b·ªã n√†y kh√¥ng?</p>
      <div class="dialog-buttons">
        <button class="danger" onclick="confirmDelete()">X√≥a</button>
        <button class="cancel" onclick="closeConfirmDelete()">H·ªßy</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>